## Основы ветвления и слияния

LICENSE: [MIT](../license.md)

![git-logo](../assets/logo.svg)

### **Текст**

---

#### Основы ветвления

Предположим, вы работаете над проектом и уже имеете несколько коммитов.

![Рисунок 18. Простая история коммитов](https://git-scm.com/book/en/v2/images/basic-branching-1.png)
*Рисунок 18. Простая история коммитов*

Вы решаете, что теперь вы будете заниматься проблемой #53 из вашей системы отслеживания ошибок. Чтобы создать ветку и сразу переключиться на нее, можно выполнить команду `git` checkout с параметром `-b`:

`$ git checkout -b iss53`

`Switched to a new branch "iss53"`

![Рисунок 19. Создание нового указателя ветки](https://git-scm.com/book/en/v2/images/basic-branching-2.png)
*Рисунок 19. Создание нового указателя ветки*

Вы работаете над своим сайтом и делаете коммиты. Это приводит к тому, что ветка iss53 движется вперед, так как вы переключились на нее ранее (HEAD указывает на нее).

`$ vim index.html`

`$ git commit -a -m 'added a new footer [issue 53]'`

![Рисунок 20. Ветка iss53 двигается вперед](https://git-scm.com/book/en/v2/images/basic-branching-3.png)
*Рисунок 20. Ветка iss53 двигается вперед*

Теперь вы можете перейти к написанию исправления. Давайте создадим новую ветку для исправления, в которой будем работать, пока не закончим исправление.

`$ git checkout -b hotfix`

`Switched to a new branch 'hotfix'`

`$ vim index.html`

`$ git commit -a -m 'fixed the broken email address'`

![Рисунок 21. Ветка hotfix основана на ветке master](https://git-scm.com/book/en/v2/images/basic-branching-4.png)
*Рисунок 21. Ветка hotfix основана на ветке master*

Вы можете прогнать тесты, чтобы убедиться, что ваше исправление делает именно то, что нужно. И если это так — выполнить слияние ветки `hotfix` с веткой `master` для включения изменений в продукт. Это делается командой `git merge`:

`$ git checkout master`

`$ git merge hotfix`

#### Основные конфликты слияния

Иногда процесс не проходит гладко. Если вы изменили одну и ту же часть одного и того же файла по-разному в двух объединяемых ветках, Git не сможет их чисто объединить. Если ваше исправление ошибки #53 потребовало изменить ту же часть файла что и `hotfix`, вы получите примерно такое сообщение о конфликте слияния:

`$ git merge iss53`

Git не создал коммит слияния автоматически. Он остановил процесс до тех пор, пока вы не разрешите конфликт. Чтобы в любой момент после появления конфликта увидеть, какие файлы не объединены, вы можете запустить `git status`:

`$ git status`

`On branch master`

`You have unmerged paths.`

Если вы хотите использовать графический инструмент для разрешения конфликтов, можно запустить `git mergetool`, которое проведет вас по всем конфликтам:

`$ git mergetool`

***Читать полностью***[&#10149;](https://git-scm.com/book/ru/v2/%D0%92%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-Git-%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D1%8B-%D0%B2%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B8-%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D1%8F)

---

[вернуться &#8634;](../core/branching.md)

Git logo by http://git-scm.com/downloads/logos,
license: [CC BY 3.0](https://creativecommons.org/licenses/by/3.0/)